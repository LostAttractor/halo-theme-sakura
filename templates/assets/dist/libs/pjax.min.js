import{g as it}from"../assets/_commonjsHelpers-042e6b4d.js";import{s as st}from"../main.min.js";var M={exports:{}},v=function(e,t,r){return e instanceof HTMLCollection||e instanceof NodeList||e instanceof Array?Array.prototype.forEach.call(e,t,r):t.call(r,e)},ct=function(e){var t=e.text||e.textContent||e.innerHTML||"",r=e.src||"",a=e.parentNode||document.querySelector("head")||document.documentElement,n=document.createElement("script");if(t.match("document.write"))return console&&console.log&&console.log("Script contains document.write. Can’t be executed correctly. Code skipped ",e),!1;if(n.type="text/javascript",n.id=e.id,r!==""&&(n.src=r,n.async=!1),t!=="")try{n.appendChild(document.createTextNode(t))}catch{n.text=t}return a.appendChild(n),(a instanceof HTMLHeadElement||a instanceof HTMLBodyElement)&&a.contains(n)&&a.removeChild(n),!0},ut=v,F=ct,lt=function(e){e.tagName.toLowerCase()==="script"&&F(e),ut(e.querySelectorAll("script"),function(t){(!t.type||t.type.toLowerCase()==="text/javascript")&&(t.parentNode&&t.parentNode.removeChild(t),F(t))})},ft=v,g=function(e,t,r,a){t=typeof t=="string"?t.split(" "):t,t.forEach(function(n){ft(e,function(i){i.addEventListener(n,r,a)})})},$=g,D={outerHTML:function(e,t){e.outerHTML=t.outerHTML,this.onSwitch()},innerHTML:function(e,t){e.innerHTML=t.innerHTML,t.className===""?e.removeAttribute("class"):e.className=t.className,this.onSwitch()},switchElementsAlt:function(e,t){if(e.innerHTML=t.innerHTML,t.hasAttributes())for(var r=t.attributes,a=0;a<r.length;a++)e.attributes.setNamedItem(r[a].cloneNode());this.onSwitch()},replaceNode:function(e,t){e.parentNode.replaceChild(t,e),this.onSwitch()},sideBySide:function(e,t,r,a){var n=Array.prototype.forEach,i=[],s=[],o=document.createDocumentFragment(),f="animationend webkitAnimationEnd MSAnimationEnd oanimationend",u=0,l=function(c){c.target===c.currentTarget&&(u--,u<=0&&i&&(i.forEach(function(d){d.parentNode&&d.parentNode.removeChild(d)}),s.forEach(function(d){d.className=d.className.replace(d.getAttribute("data-pjax-classes"),""),d.removeAttribute("data-pjax-classes")}),s=null,i=null,this.onSwitch()))}.bind(this);a=a||{},n.call(e.childNodes,function(c){i.push(c),c.classList&&!c.classList.contains("js-Pjax-remove")&&(c.hasAttribute("data-pjax-classes")&&(c.className=c.className.replace(c.getAttribute("data-pjax-classes"),""),c.removeAttribute("data-pjax-classes")),c.classList.add("js-Pjax-remove"),a.callbacks&&a.callbacks.removeElement&&a.callbacks.removeElement(c),a.classNames&&(c.className+=" "+a.classNames.remove+" "+(r.backward?a.classNames.backward:a.classNames.forward)),u++,$(c,f,l,!0))}),n.call(t.childNodes,function(c){if(c.classList){var d="";a.classNames&&(d=" js-Pjax-add "+a.classNames.add+" "+(r.backward?a.classNames.forward:a.classNames.backward)),a.callbacks&&a.callbacks.addElement&&a.callbacks.addElement(c),c.className+=d,c.setAttribute("data-pjax-classes",d),s.push(c),o.appendChild(c),u++,$(c,f,l,!0)}}),e.className=t.className,e.appendChild(o)}},X=D,dt=function(e){return e=e||{},e.elements=e.elements||"a[href], form[action]",e.selectors=e.selectors||["title",".js-Pjax"],e.switches=e.switches||{},e.switchesOptions=e.switchesOptions||{},e.history=typeof e.history>"u"?!0:e.history,e.analytics=typeof e.analytics=="function"||e.analytics===!1?e.analytics:ht,e.scrollTo=typeof e.scrollTo>"u"?0:e.scrollTo,e.scrollRestoration=typeof e.scrollRestoration<"u"?e.scrollRestoration:!0,e.cacheBust=typeof e.cacheBust>"u"?!0:e.cacheBust,e.debug=e.debug||!1,e.timeout=e.timeout||0,e.currentUrlFullReload=typeof e.currentUrlFullReload>"u"?!1:e.currentUrlFullReload,e.switches.head||(e.switches.head=X.switchElementsAlt),e.switches.body||(e.switches.body=X.switchElementsAlt),e};function ht(){window._gaq&&_gaq.push(["_trackPageview"]),window.ga&&ga("send","pageview",{page:location.pathname,title:document.title})}var rt=function(){var e=0;return function(){var t="pjax"+new Date().getTime()+"_"+e;return e++,t}}(),mt=v,at=function(e,t,r){t=typeof t=="string"?t.split(" "):t,t.forEach(function(a){var n;n=document.createEvent("HTMLEvents"),n.initEvent(a,!0,!0),n.eventName=a,r&&Object.keys(r).forEach(function(i){n[i]=r[i]}),mt(e,function(i){var s=!1;!i.parentNode&&i!==document&&i!==window&&(s=!0,document.body.appendChild(i)),i.dispatchEvent(n),s&&i.parentNode.removeChild(i)})})},b=function(e){if(e===null||typeof e!="object")return e;var t=e.constructor();for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},pt=function(t,r,a){for(var n=0;n<r.length;n++)for(var i=t.querySelectorAll(r[n]),s=0;s<i.length;s++)if(i[s].contains(a))return!0;return!1},vt=function(e){if(e==null)return null;for(var t=Object(e),r=1;r<arguments.length;r++){var a=arguments[r];if(a!=null)for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},nt=function(){},x,O;function wt(){return O||(O=1,x=function(){this.options.debug&&console&&(typeof console.log=="function"?console.log.apply(console,arguments):console.log&&console.log(arguments))}),x}var R,B;function yt(){if(B)return R;B=1;var e="data-pjax-state";return R=function(t){switch(t.tagName.toLowerCase()){case"a":t.hasAttribute(e)||this.attachLink(t);break;case"form":t.hasAttribute(e)||this.attachForm(t);break;default:throw"Pjax can only be applied on <a> or <form> submit"}},R}var A,I;function gt(){if(I)return A;I=1;var e=g,t=b,r="data-pjax-state",a=function(s,o){if(!i(o)){var f=t(this.options),u=n(s,o);if(u){s.setAttribute(r,u);return}if(o.preventDefault(),this.options.currentUrlFullReload&&s.href===window.location.href.split("#")[0]){s.setAttribute(r,"reload"),this.reload();return}s.setAttribute(r,"load"),f.triggerElement=s,this.loadUrl(s.href,f)}};function n(s,o){if(o.which>1||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey)return"modifier";if(s.protocol!==window.location.protocol||s.host!==window.location.host)return"external";if(s.hash&&s.href.replace(s.hash,"")===window.location.href.replace(location.hash,""))return"anchor";if(s.href===window.location.href.split("#")[0]+"#")return"anchor-empty"}var i=function(s){return s.defaultPrevented||s.returnValue===!1};return A=function(s){var o=this;s.setAttribute(r,""),e(s,"click",function(f){a.call(o,s,f)}),e(s,"keyup",function(f){f.keyCode===13&&a.call(o,s,f)}.bind(this))},A}var q,J;function bt(){if(J)return q;J=1;var e=g,t=b,r="data-pjax-state",a=function(o,f){if(!s(f)){var u=t(this.options);u.requestOptions={requestUrl:o.getAttribute("action")||window.location.href,requestMethod:o.getAttribute("method")||"GET"};var l=document.createElement("a");l.setAttribute("href",u.requestOptions.requestUrl);var c=i(l,u);if(c){o.setAttribute(r,c);return}f.preventDefault(),o.enctype==="multipart/form-data"?u.requestOptions.formData=new FormData(o):u.requestOptions.requestParams=n(o),o.setAttribute(r,"submit"),u.triggerElement=o,this.loadUrl(l.href,u)}};function n(o){for(var f=[],u=o.elements,l=0;l<u.length;l++){var c=u[l],d=c.tagName.toLowerCase();if(c.name&&c.attributes!==void 0&&d!=="button"){var w=c.attributes.type;if(!w||w.value!=="checkbox"&&w.value!=="radio"||c.checked){var h=[];if(d==="select")for(var m,S=0;S<c.options.length;S++)m=c.options[S],m.selected&&!m.disabled&&h.push(m.hasAttribute("value")?m.value:m.text);else h.push(c.value);for(var E=0;E<h.length;E++)f.push({name:encodeURIComponent(c.name),value:encodeURIComponent(h[E])})}}}return f}function i(o,f){if(o.protocol!==window.location.protocol||o.host!==window.location.host)return"external";if(o.hash&&o.href.replace(o.hash,"")===window.location.href.replace(location.hash,""))return"anchor";if(o.href===window.location.href.split("#")[0]+"#")return"anchor-empty";if(f.currentUrlFullReload&&o.href===window.location.href.split("#")[0])return"reload"}var s=function(o){return o.defaultPrevented||o.returnValue===!1};return q=function(o){var f=this;o.setAttribute(r,""),e(o,"submit",function(u){a.call(f,o,u)})},q}var T,Q;function St(){if(Q)return T;Q=1;var e=v;return T=function(t,r,a,n){n=n||document,t.forEach(function(i){e(n.querySelectorAll(i),r,a)})},T}var P,K;function Et(){if(K)return P;K=1;var e=v,t=D;return P=function(r,a,n,i,s,o){var f=[];n.forEach(function(u){var l=i.querySelectorAll(u),c=s.querySelectorAll(u);if(this.log&&this.log("Pjax switch",u,l,c),l.length!==c.length)throw"DOM doesn’t look the same on new loaded page: ’"+u+"’ - new "+l.length+", old "+c.length;e(l,function(d,w){var h=c[w];this.log&&this.log("newEl",d,"oldEl",h);var m=r[u]?r[u].bind(this,h,d,o,a[u]):t.outerHTML.bind(this,h,d,o);f.push(m)},this)},this),this.state.numPendingSwitches=f.length,f.forEach(function(u){u()})},P}var N,V;function xt(){if(V)return N;V=1;var e=nt;return N=function(t){t&&t.readyState<4&&(t.onreadystatechange=e,t.abort())},N}var j,_;function Rt(){return _||(_=1,j=function(e,t,r){var a=new RegExp("([?&])"+t+"=.*?(&|$)","i"),n=e.indexOf("?")!==-1?"&":"?";return e.match(a)?e.replace(a,"$1"+t+"="+r+"$2"):e+n+t+"="+r}),j}var L,G;function At(){if(G)return L;G=1;var e=Rt();return L=function(t,r,a){r=r||{};var n,i=r.requestOptions||{},s=(i.requestMethod||"GET").toUpperCase(),o=i.requestParams||null,f=i.formData||null,u=null,l=new XMLHttpRequest,c=r.timeout||0;if(l.onreadystatechange=function(){l.readyState===4&&(l.status===200?a(l.responseText,l,t,r):l.status!==0&&a(null,l,t,r))},l.onerror=function(d){console.log(d),a(null,l,t,r)},l.ontimeout=function(){a(null,l,t,r)},o&&o.length)switch(n=o.map(function(d){return d.name+"="+d.value}).join("&"),s){case"GET":t=t.split("?")[0],t+="?"+n;break;case"POST":u=n;break}else f&&(u=f);return r.cacheBust&&(t=e(t,"t",Date.now())),l.open(s,t,!0),l.timeout=c,l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("X-PJAX","true"),l.setRequestHeader("X-PJAX-Selectors",JSON.stringify(r.selectors)),u&&s==="POST"&&!f&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(u),l},L}var H,z;function qt(){if(z)return H;z=1;var e=b,t=rt,r=at;return H=function(a,n,i,s){if(s=e(s||this.options),s.request=n,a===!1){r(document,"pjax:complete pjax:error",s);return}var o=window.history.state||{};window.history.replaceState({url:o.url||window.location.href,title:o.title||document.title,uid:o.uid||t(),scrollPos:[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]},document.title,window.location.href);var f=i;n.responseURL?i!==n.responseURL&&(i=n.responseURL):n.getResponseHeader("X-PJAX-URL")?i=n.getResponseHeader("X-PJAX-URL"):n.getResponseHeader("X-XHR-Redirected-To")&&(i=n.getResponseHeader("X-XHR-Redirected-To"));var u=document.createElement("a");u.href=f;var l=u.hash;u.href=i,l&&!u.hash&&(u.hash=l,i=u.href),this.state.href=i,this.state.options=s;try{this.loadContent(a,s)}catch(c){if(r(document,"pjax:error",s),this.options.debug)throw c;return console&&console.error&&console.error("Pjax switch fail: ",c),this.latestChance(i)}},H}var U,W;function Tt(){return W||(W=1,U=function(){return window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/)}),U}var Pt=lt,Y=v,Nt=dt,jt=D,k=rt,Lt=g,y=at,ot=b,Ht=pt,Ut=vt,Z=nt,p=function(e){this.state={numPendingSwitches:0,href:null,options:null},this.options=Nt(e),this.log("Pjax options",this.options),this.options.scrollRestoration&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),this.maxUid=this.lastUid=k(),this.parseDOM(document),Lt(window,"popstate",function(t){if(t.state){var r=ot(this.options);r.url=t.state.url,r.title=t.state.title,r.history=!1,r.scrollPos=t.state.scrollPos,t.state.uid<this.lastUid?r.backward=!0:r.forward=!0,this.lastUid=t.state.uid,this.loadUrl(t.state.url,r)}}.bind(this))};p.switches=jt;p.prototype={log:wt(),getElements:function(e){return e.querySelectorAll(this.options.elements)},parseDOM:function(e){var t=yt();Y(this.getElements(e),t,this)},refresh:function(e){this.parseDOM(e||document)},reload:function(){window.location.reload()},attachLink:gt(),attachForm:bt(),forEachSelectors:function(e,t,r){return St().bind(this)(this.options.selectors,e,t,r)},switchSelectors:function(e,t,r,a){return Et().bind(this)(this.options.switches,this.options.switchesOptions,e,t,r,a)},latestChance:function(e){window.location=e},onSwitch:function(){y(window,"resize scroll"),this.state.numPendingSwitches--,this.state.numPendingSwitches===0&&this.afterAllSwitches()},loadContent:function(e,t){if(typeof e!="string"){y(document,"pjax:complete pjax:error",t);return}var r=document.implementation.createHTMLDocument("pjax"),a=/<html[^>]+>/gi,n=/\s?[a-z:]+(?:=['"][^'">]+['"])*/gi,i=e.match(a);if(i&&i.length&&(i=i[0].match(n),i.length&&(i.shift(),i.forEach(function(s){var o=s.trim().split("=");o.length===1?r.documentElement.setAttribute(o[0],!0):r.documentElement.setAttribute(o[0],o[1].slice(1,-1))}))),r.documentElement.innerHTML=e,this.log("load content",r.documentElement.attributes,r.documentElement.innerHTML.length),document.activeElement&&Ht(document,this.options.selectors,document.activeElement))try{document.activeElement.blur()}catch{}this.switchSelectors(this.options.selectors,r,document,t)},abortRequest:xt(),doRequest:At(),handleResponse:qt(),loadUrl:function(e,t){t=typeof t=="object"?Ut({},this.options,t):ot(this.options),this.log("load href",e,t),this.abortRequest(this.request),y(document,"pjax:send",t),this.request=this.doRequest(e,t,this.handleResponse.bind(this))},afterAllSwitches:function(){var e=Array.prototype.slice.call(document.querySelectorAll("[autofocus]")).pop();e&&document.activeElement!==e&&e.focus(),this.options.selectors.forEach(function(s){Y(document.querySelectorAll(s),function(o){Pt(o)})});var t=this.state;if(t.options.history&&(window.history.state||(this.lastUid=this.maxUid=k(),window.history.replaceState({url:window.location.href,title:document.title,uid:this.maxUid,scrollPos:[0,0]},document.title)),this.lastUid=this.maxUid=k(),window.history.pushState({url:t.href,title:t.options.title,uid:this.maxUid,scrollPos:[0,0]},t.options.title,t.href)),this.forEachSelectors(function(s){this.parseDOM(s)},this),y(document,"pjax:complete pjax:success",t.options),typeof t.options.analytics=="function"&&t.options.analytics(),t.options.history){var r=document.createElement("a");if(r.href=this.state.href,r.hash){var a=r.hash.slice(1);a=decodeURIComponent(a);var n=0,i=document.getElementById(a)||document.getElementsByName(a)[0];if(i&&i.offsetParent)do n+=i.offsetTop,i=i.offsetParent;while(i);window.scrollTo(0,n)}else t.options.scrollTo!==!1&&(t.options.scrollTo.length>1?window.scrollTo(t.options.scrollTo[0],t.options.scrollTo[1]):window.scrollTo(0,t.options.scrollTo))}else t.options.scrollRestoration&&t.options.scrollPos&&window.scrollTo(t.options.scrollPos[0],t.options.scrollPos[1]);this.state={numPendingSwitches:0,href:null,options:null}}};p.isSupported=Tt();if(p.isSupported())M.exports=p;else{var tt=Z;for(var C in p.prototype)p.prototype.hasOwnProperty(C)&&typeof p.prototype[C]=="function"&&(tt[C]=Z);M.exports=tt}var Ct=M.exports;const et=it(Ct);new et({selectors:["head title","content-wrap","post-toc-wrap","#pjax"],switches:{".post-toc-wrap":et.switches.innerHTML},analytics:!1,cacheBust:!1});window.addEventListener("pjax:success",()=>{document.querySelectorAll("script[data-pjax], #pjax script").forEach(t=>{let r=t.text||t.textContent||t.innerHTML||"",a=t.parentNode;if(a===null)return;a.removeChild(t);let n=document.createElement("script");t.id&&(n.id=t.id),t.className&&(n.className=t.className),t.type&&(n.type=t.type),t.src&&(n.src=t.src,n.async=!1),t.dataset.pjax!==void 0&&(n.dataset.pjax=""),r!==""&&n.appendChild(document.createTextNode(r)),a.appendChild(n)}),st.refresh()});
